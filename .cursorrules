# Development Rules for MF Analysis React

## Testing Guidelines

### Keep Tests Minimal and Clean

When writing tests:

1. **Keep tests minimal and focused** - Avoid over-testing
2. **Aim for 3-7 essential tests per module** - Not 20+
3. **Each test should verify a distinct, important aspect**
4. **Combine related assertions** in the same test when logical
5. **Remove redundant or overly granular tests**
6. **Tests should be easy to read and understand at a glance**
7. **Focus on critical functionality** - Test edge cases and integration points rather than every possible variation
8. **Assert actual values** - instad of approximation, run some dummy tests to actually capture the outputs, and use them as exact asserts

**Example**: The `fixedReturnService.test.ts` has 5 focused tests covering all essential functionality in ~80 lines.

## General Development

- Always update related tests when modifying functionality
- Run `npm test` to verify tests pass before committing
- If a test fails, iteratively update and re-run until it passes
- Implement ideas directly rather than asking for permission first

